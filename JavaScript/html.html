<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        
        <style>
            #hidden{
                display: none;
            }
        </style>
    </head>
    <body>

        <iframe src="https://www.youtube.com/watch?v=m0B-ZnhyMEg" height="200" width="300" id="hidden"></iframe>
        <h1>플레이리스트 제공</h1>
        <div id="player"></div>

        <script>
            // youtube API 불러오는 부분
            var tag = document.createElement('script'); 
            tag.src = "https://www.youtube.com/iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

           // 플레이어 변수 설정
            var player;
            function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
                height: '360',
                width: '640',
                videoId: 'w2r4SI-2ms8',
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                    }
                });
            }

            // 로딩된 후에 실행될 동작을 작성
          function onPlayerReady(event) {
              event.target.playVideo();
          }

          // 플레이어가 재생 중일 때 작성한 동작이 실행
          var done = false;
          function onPlayerStateChange(event) {
              if (event.data == YT.PlayerState.PLAYING && !done) {
                  setTimeout(stopVideo, 6000);
                  done = true;
              }
          }
          function stopVideo() {
              player.stopVideo();
          }
    </script>
    </body>
</html>